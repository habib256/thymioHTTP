<project name="snap4thymio-2.0beta0.01" app="Snap! 6, https://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAACgklEQVR4nO3XrUrzARjGYU9ITILVwYLI2PADQQy2pR2Aa7MIZkEYWMzCkmAyWfQURNOcyQ+wKIjPewT/9sKN87qO4A6/ci8UBC2kB/C3CZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRJgg7e3t3p9fU3PmHsCbHB7e1vX19c1nU7r+fm5Xl5e6uPjo76+vurn5yc9b24IsMHR0VG12+1aXV2t3d3dOjw8rMlkUvf39/X5+ZmeNzcE2ODk5KQ2Nzer1WrV+vp67e3t1WAwqOFwWMPhsEajUV1cXKRn/noCbHB+fl79fr82Njaq1+tVr9erTqdTrVarlpaWanl5uQ4ODtIzfz0BNjg7O6v9/f3qdDrV7XZra2urdnZ2ant7u9bW1qrb7dbx8XF65q8nwAaj0ahWVlZqcXGx2u12DQaDGo/HdXNzU4+PjzWbzbzk/0CADS4vL+v09LQmk0ldXV3V3d1dPTw81Pv7e31/f6fnzQ0BNpjNZvX09JSeMfcESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKIESJQAiRIgUQIkSoBECZAoARIlQKL+AfCfjkEPcTQ/AAAAAElFTkSuQmCC</thumbnail><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAACtUlEQVR4nO3BMQEAAADCoPVPbQwfoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+Bo3+AAF/RMkcAAAAAElFTkSuQmCC</pentrails><costumes><list struct="atomic" id="2"></list></costumes><sounds><list struct="atomic" id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Sprite" idx="1" x="1.0666666666656965" y="-0.8000000000001819" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="8"><costumes><list struct="atomic" id="9"></list></costumes><sounds><list struct="atomic" id="10"></list></sounds><blocks></blocks><variables></variables><scripts><script x="23" y="26.666666666666657"><custom-block s="listify %mlt"><custom-block s="%s url: %s send: %s headers: %mult%l"><l>GET</l><l>http://127.0.0.1:3000/fake/</l><l></l><list></list></custom-block></custom-block></script><script x="24.183334350585938" y="68.66666666666666"><custom-block s="listify %mlt"><custom-block s="%s url: %s send: %s headers: %mult%l"><l>GET</l><l>http://127.0.0.1:3000/nodes/</l><l></l><list></list></custom-block></custom-block></script><script x="24" y="113.66666666666666"><custom-block s="%s url: %s send: %s headers: %mult%l"><l>PUT</l><block s="reportJoinWords"><list><l>http://127.0.0.1:3000/nodes/</l><l>led</l><l>/</l><l>50</l></list></block><l></l><list></list></custom-block></script><script x="25" y="205.66666666666666"><custom-block s="%s url: %s send: %s headers: %mult%l"><l>PUT</l><block s="reportJoinWords"><list><l>http://127.0.0.1:3000/nodes/</l><l>stop</l><l>/</l><l>0</l></list></block><l></l><list></list></custom-block></script><script x="25" y="151.96666666666684"><custom-block s="%s url: %s send: %s headers: %mult%l"><l>PUT</l><block s="reportJoinWords"><list><l>http://127.0.0.1:3000/nodes/</l><l>M_motor_both</l><l>/</l><block var="speed"/></list></block><l></l><list></list></custom-block></script><script x="493" y="80.66666666666666"><custom-block s="$robot moteur(s) %txt à %n"><l>les deux</l><l>100</l></custom-block></script><script x="513" y="127.16666666666654"><custom-block s="$robot arrêter les moteurs"></custom-block></script><script x="489" y="35.16666666666654"><custom-block s="$robot moteur(s) %txt à %n"><l>droite</l><l>500</l></custom-block></script></scripts></sprite></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="%&apos;method&apos; url: %&apos;url&apos; send: %&apos;payload&apos; headers: %&apos;headers&apos;" type="reporter" category="sensing"><header></header><code></code><translations>pt:a resposta a _ de _ enviando _ e cabeçalhos _&#xD;</translations><inputs><input type="%s" readonly="true">GET<options>GET&#xD;POST&#xD;PUT&#xD;DELETE</options></input><input type="%s">https://snap.berkeley.edu</input><input type="%s"></input><input type="%mult%l" readonly="true"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>method</l><l>url</l><l>data</l><l>headers</l><l>proc</l></list><l>var response, i, header;&#xD;if (!proc.httpRequest) {&#xD;  proc.httpRequest = new XMLHttpRequest();&#xD;  proc.httpRequest.open(method, url, true);&#xD;  proc.assertType(headers, &apos;list&apos;);&#xD;  for (i = 1; i &lt;= headers.length(); i += 1) {&#xD;    header = headers.at(i);&#xD;    proc.assertType(header, &apos;list&apos;);&#xD;    proc.httpRequest.setRequestHeader(&#xD;      header.at(1),&#xD;      header.at(2)&#xD;    );&#xD;  }&#xD;  proc.httpRequest.send(data || null);&#xD;} else if (proc.httpRequest.readyState === 4) {&#xD;  response = proc.httpRequest.responseText;&#xD;  proc.httpRequest = null;&#xD;  return response;&#xD;}&#xD;proc.pushContext(&apos;doYield&apos;);&#xD;proc.pushContext();</l></block><list><block var="method"/><block var="url"/><block var="payload"/><block var="headers"/></list></block></block></script></block-definition><block-definition s="key: %&apos;key&apos; value: %&apos;value&apos;" type="reporter" category="operators"><header></header><code></code><translations>pt:um par (chave: _ , valor: _ )&#xD;</translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><block var="key"/><block var="value"/></list></block></block></script></block-definition><block-definition s="current location" type="reporter" category="sensing"><comment x="0" y="0" w="200" collapsed="false">Reports a three-item list containing the latitude and longitude of the user, and the precision of the measurements.  Works only if the user allows snap.berkeley.edu access to location data.  Some browsers also require an HTTPS connection to Snap!.</comment><header></header><code></code><translations>pt:a localização actual do dispositivo&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>proc</l></list><l>if (!proc.geostarted) {&#xD;  var geo = navigator.geolocation;&#xD;  var cords = [];&#xD;  var options = {&#xD;    enableHighAccuracy: false,&#xD;  };&#xD;&#xD;  function success(pos) {&#xD;    console.log(pos);&#xD;    proc.geocords = [pos.coords.latitude,&#xD;                     pos.coords.longitude,&#xD;                     pos.coords.accuracy];&#xD;  }&#xD;&#xD;  function error(err) {&#xD;    alert("ERROR " + err.code + ": " + err.message);&#xD;  }&#xD;  proc.geostarted = true;&#xD;  proc.geocords = null;&#xD;  console.log("starting geolocation")&#xD;  geo.getCurrentPosition(success, error, options);&#xD;} else if (proc.geocords) {&#xD;  var cords = proc.geocords;&#xD;  proc.geostarted = null;&#xD;  proc.geocords = null;&#xD;  console.log("returning");&#xD;  return new List(cords);&#xD;} else {&#xD;  console.log("yielding");&#xD;  proc.pushContext(&apos;doYield&apos;);&#xD;  proc.pushContext();&#xD;}</l></block><list></list></block></block></script></block-definition><block-definition s="listify %&apos;jsonString&apos;" type="reporter" category="operators"><header></header><code></code><translations>pt:os dados JSON _ em formato de lista&#xD;</translations><inputs><input type="%mlt"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>jsonString</l></list><l>return listify(JSON.parse(jsonString));&#xD;&#xD;function listify(jsonObject) {&#xD;  if (jsonObject instanceof Array) {&#xD;    return new List(jsonObject.map(function(eachElement) { return listify(eachElement)}));&#xD;  } else if (jsonObject instanceof Object) {&#xD;    return new List(Object.keys(jsonObject).map(function(eachKey) { return new List([eachKey,listify(jsonObject[eachKey])])} ))&#xD;  } else {&#xD;    return jsonObject&#xD;  }&#xD;}</l></block><list><block var="jsonString"/></list></block></block></script></block-definition><block-definition s="value at key %&apos;key&apos; of %&apos;lst&apos;" type="reporter" category="operators"><header></header><code></code><translations>pt:o valor com chave _ em _&#xD;</translations><inputs><input type="%s"></input><input type="%l"></input></inputs><script><block s="doWarp"><script><block s="doForEach"><l>each item</l><block var="lst"/><script><block s="doIf"><block s="reportEquals"><block s="reportListItem"><l>1</l><block var="each item"/></block><block var="key"/></block><script><block s="doReport"><block s="reportListItem"><l>2</l><block var="each item"/></block></block></script></block></script></block></script></block><block s="doReport"><l></l></block></script></block-definition><block-definition s="$robot moteur(s) %&apos;direction&apos; à %&apos;speed&apos;" type="command" category="motion"><header></header><code></code><translations></translations><inputs><input type="%txt">les deux<options>gauche&#xD;droite&#xD;les deux</options></input><input type="%n">100</input></inputs><script><block s="doDeclareVariables"><list><l>HTTP</l></list></block><block s="doIf"><block s="reportEquals"><block var="direction"/><l>les deux</l></block><script><block s="doSetVar"><l>HTTP</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>PUT</l><block s="reportJoinWords"><list><l>http://127.0.0.1:3000/nodes/</l><l>M_motor_both</l><l>/</l><block var="speed"/></list></block><l></l><list></list></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="direction"/><l>droite</l></block><script><block s="doSetVar"><l>HTTP</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>PUT</l><block s="reportJoinWords"><list><l>http://127.0.0.1:3000/nodes/</l><l>M_motor_left</l><l>/</l><block var="speed"/></list></block><l></l><list></list></custom-block></block></script></block><block s="doIf"><block s="reportEquals"><block var="direction"/><l>gauche</l></block><script><block s="doSetVar"><l>HTTP</l><custom-block s="%s url: %s send: %s headers: %mult%l"><l>PUT</l><block s="reportJoinWords"><list><l>http://127.0.0.1:3000/nodes/</l><l>M_motor_right</l><l>/</l><block var="speed"/></list></block><l></l><list></list></custom-block></block></script></block></script></block-definition><block-definition s="$robot arrêter les moteurs" type="command" category="motion"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="$robot moteur(s) %txt à %n"><l>les deux</l><l>0</l></custom-block></script></block-definition></blocks><variables></variables></project>